<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Graficas</title>
</head>
<body>
    <h1>Haciendo graficas</h1>
    <canvas width="600" height="200"></canvas>
    
    <script>

        function dibujarRectangulo(x, y, base, altura, color) {
            let pantalla = document.querySelector("canvas");
            let pincel = pantalla.getContext("2d");

            pincel.fillStyle = color;
            pincel.fillRect(x,y, base, altura);
            pincel.strokeStyle = "black";
            pincel.strokeRect(x,y, base, altura);
        }

        function escribirTexto(x, y, texto) {
            let pantalla = document.querySelector("canvas");
            let pincel = pantalla.getContext("2d");

            pincel.font = "15px Georgia";
            pincel.fillStyle = "black";
            pincel.fillText(texto, x, y);    
        }   
        
        function dibujarBarra(x,y,serie,colores,texto) {
            escribirTexto(x, y - 10, texto);
            
            let sumarAltura = 0;
            
            for (let i = 0; i < serie.length; i++) {
                let altura = serie[i];
                dibujarRectangulo(x, y+sumarAltura, 60, altura, colores[i]);
                sumarAltura = altura + sumarAltura;
            }
        }
        
        let serie2009 = [6,47,41,3,3];
        let serie2019 = [81,9,3,3,4];
        let colores = ["blue", "green", "yellow", "red", "gray"];

        dibujarBarra(50, 50, serie2009, colores, "2009");
        dibujarBarra(150, 50, serie2019, colores, "2019");
    </script>

    <h3>FIN.</h3>
</body>
</html>